{% extends 'base.html' %}

{% block content %}
<!-- ============================================================== -->
<!-- Bread crumb and right sidebar toggle -->
<!-- ============================================================== -->
<div class="page-breadcrumb">
  <div class="row align-items-center">
    <div class="col-md-6 col-8 align-self-center">
      <h3 class="page-title mb-0 p-0">Update Student</h3>
      <div class="d-flex align-items-center">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{{ url_for('dash.index') }}">Home</a></li>
            <li class="breadcrumb-item">Students Management</li>
            <li class="breadcrumb-item active" aria-current="page">Update Student</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
</div>
<!-- ============================================================== -->
<!-- End Bread crumb and right sidebar toggle -->
<!-- ============================================================== -->  
<div class="card">
  <div class="card-body">

    {% if message %}
    <div class="alert alert-{{ message_type }}">{{ message }}</div>
    {% endif %}

    <form method="POST">

      <div class="mb-3">
        <label class="form-label">First Name</label>
        <input type="text" name="first_name" class="form-control" value="{{ student.first_name }}" required>
      </div>

      <div class="mb-3">
        <label class="form-label">Last Name</label>
        <input type="text" name="last_name" class="form-control" value="{{ student.last_name }}" required>
      </div>

      <div class="mb-3">
        <label class="form-label">School ID</label>
        <input type="text" class="form-control" value="{{ student.card_id }}" readonly>
      </div>

      <div class="mb-3">
        <label class="form-label">Classroom</label>
        <select name="classroom_id" class="form-control">
          {% for c in classrooms %}
          <option value="{{ c.id }}" {% if student.classroom_id == c.id %}selected{% endif %}>
            {{ c.classroom_name }}
          </option>
          {% endfor %}
        </select>
      </div>

      <div class="d-flex">
        <button class="btn btn-success me-2">Update Student</button>
        <a href="{{ url_for('dash.delete_student', id=student.id) }}" class="btn btn-danger"
           onclick="return confirm('Are you sure you want to delete this student?');">
          Delete Student
        </a>
      </div>

    </form>

  </div>
</div>
{% endblock content %}