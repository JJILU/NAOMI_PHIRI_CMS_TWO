{% extends 'base.html' %}

{% block content %}
<div class="page-breadcrumb">
  <div class="row align-items-center">
      <div class="col-md-6 col-8 align-self-center">
          <h3 class="page-title mb-0 p-0">Update Admin Password</h3>
          <nav aria-label="breadcrumb">
              <ol class="breadcrumb">
                  <li class="breadcrumb-item"><a href="{{ url_for('dash.index') }}">Home</a></li>
                  <li class="breadcrumb-item"><a href="{{ url_for('dash.view_cms_admins') }}">Admins</a></li>
                  <li class="breadcrumb-item active" aria-current="page">Update Password</li>
              </ol>
          </nav>
      </div>
  </div>
</div>

<div class="container-fluid mt-3">
  <div class="card">
    <div class="card-body">

      {% if error %}
      <div class="alert alert-danger">{{ error }}</div>
      {% endif %}
      {% if success %}
      <div class="alert alert-success">{{ success }}</div>
      {% endif %}

      <form method="POST">
        <div class="mb-3">
          <label class="form-label">Student Name</label>
          <input type="text" class="form-control" value="{{ admin.admin.first_name }} {{ admin.admin.last_name }}" readonly>
        </div>

        <div class="mb-3">
          <label class="form-label">Card ID</label>
          <input type="text" class="form-control" value="{{ admin.user_card_id }}" readonly>
        </div>

        <div class="mb-3 position-relative">
          <label class="form-label">New Password</label>
          <div class="input-group">
            <input type="password" id="password" name="password" class="form-control" required>
            <span class="input-group-text" onclick="togglePassword('password','eye1')" style="cursor:pointer;">
              <i id="eye1" class="fa fa-eye"></i>
            </span>
          </div>
        </div>

        <div class="mb-3 position-relative">
          <label class="form-label">Confirm Password</label>
          <div class="input-group">
            <input type="password" id="confirm_password" name="confirm_password" class="form-control" required>
            <span class="input-group-text" onclick="togglePassword('password','eye1')" style="cursor:pointer;">
              <i id="eye1" class="fa fa-eye"></i>
            </span>
          </div>
        </div>

        <button class="btn btn-success">Update Password</button>
      </form>

    </div>
  </div>
</div>

<script>
function togglePassword(inputId, eyeId) {
  const input = document.getElementById(inputId);
  const icon = document.getElementById(eyeId);
  if (input.type === "password") {
    input.type = "text";
    icon.classList.replace("fa-eye","fa-eye-slash");
  } else {
    input.type = "password";
    icon.classList.replace("fa-eye-slash","fa-eye");
  }
}
</script>
{% endblock %}
